<template>
  <div class="svg-container cursor-pointer" :data-icon-name="props.icon">
    <svg
    v-if="state === 'expanded'"
      width="18"
      height="18"
      viewBox="0 0 18 18"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      @click="toggleSidebar"
    >
      
      <path fill-rule="evenodd" class="fill-gray-500" clip-rule="evenodd" d="M6.27218 1.90039L11.7247 1.90039C12.5425 1.90039 13.1929 1.90038 13.7177 1.94326C14.2551 1.98716 14.7133 2.079 15.1328 2.29277C15.8102 2.63791 16.3609 3.18864 16.7061 3.86602C16.9198 4.28557 17.0117 4.74378 17.0556 5.28114C17.0984 5.80589 17.0984 6.45632 17.0984 7.27415V10.7266C17.0984 11.5445 17.0984 12.1949 17.0556 12.7196C17.0117 13.257 16.9198 13.7152 16.7061 14.1348C16.3609 14.8121 15.8102 15.3629 15.1328 15.708C14.7133 15.9218 14.2551 16.0136 13.7177 16.0575C13.1929 16.1004 12.5425 16.1004 11.7247 16.1004H6.2722C5.45436 16.1004 4.80394 16.1004 4.27918 16.0575C3.74182 16.0136 3.28362 15.9218 2.86407 15.708C2.18669 15.3629 1.63596 14.8121 1.29081 14.1348C1.07704 13.7152 0.985207 13.257 0.941303 12.7196C0.898429 12.1949 0.898433 11.5445 0.898438 10.7266L0.898438 7.27414C0.898433 6.45631 0.898429 5.80589 0.941303 5.28114C0.985207 4.74378 1.07704 4.28557 1.29081 3.86602C1.63596 3.18864 2.18669 2.63791 2.86407 2.29277C3.28362 2.079 3.74182 1.98716 4.27918 1.94326C4.80394 1.90038 5.45436 1.90039 6.27218 1.90039ZM4.3769 3.13927C3.91375 3.17711 3.63105 3.24877 3.40886 3.36198C2.95727 3.59207 2.59012 3.95922 2.36002 4.41081C2.24681 4.633 2.17516 4.9157 2.13732 5.37886C2.0989 5.84901 2.09844 6.45041 2.09844 7.30039L2.09844 10.7004C2.09844 11.5504 2.0989 12.1518 2.13732 12.6219C2.17516 13.0851 2.24681 13.3678 2.36002 13.59C2.59012 14.0416 2.95727 14.4087 3.40886 14.6388C3.63105 14.752 3.91375 14.8237 4.3769 14.8615C4.84706 14.8999 5.44846 14.9004 6.29844 14.9004L11.6984 14.9004C12.5484 14.9004 13.1498 14.8999 13.62 14.8615C14.0831 14.8237 14.3658 14.752 14.588 14.6388C15.0396 14.4087 15.4068 14.0416 15.6369 13.59C15.7501 13.3678 15.8217 13.0851 15.8596 12.6219C15.898 12.1518 15.8984 11.5504 15.8984 10.7004L15.8984 7.30039C15.8984 6.45041 15.898 5.84901 15.8596 5.37886C15.8217 4.9157 15.7501 4.633 15.6369 4.41081C15.4068 3.95922 15.0396 3.59207 14.588 3.36198C14.3658 3.24877 14.0831 3.17711 13.62 3.13927C13.1498 3.10086 12.5484 3.10039 11.6984 3.10039L6.29844 3.10039C5.44846 3.10039 4.84706 3.10086 4.3769 3.13927Z"  data-hovering="false"></path>
    
     
      <path   class="hover-hide fill-gray-500" fill-rule="evenodd" clip-rule="evenodd" d="M7.19531 15.2246L7.19531 2.72461H8.39531L8.39531 15.2246H7.19531Z" fill="#75777C" ></path>
      <path  class="hover-hide fill-gray-500"  fill-rule="evenodd" clip-rule="evenodd" d="M3.375 5.42617C3.375 5.0948 3.64363 4.82617 3.975 4.82617H5.325C5.65637 4.82617 5.925 5.0948 5.925 5.42617C5.925 5.75754 5.65637 6.02617 5.325 6.02617H3.975C3.64363 6.02617 3.375 5.75754 3.375 5.42617Z"  data-hovering="false"></path>
      <path  class="hover-hide fill-gray-500" fill-rule="evenodd" clip-rule="evenodd" d="M3.375 7.67422C3.375 7.34285 3.64363 7.07422 3.975 7.07422H5.325C5.65637 7.07422 5.925 7.34285 5.925 7.67422C5.925 8.00559 5.65637 8.27422 5.325 8.27422H3.975C3.64363 8.27422 3.375 8.00559 3.375 7.67422Z"  data-hovering="false"></path>
      <path  class="hover-path fill-gray-500" fill-rule="evenodd" clip-rule="evenodd" d="M5.82739 11.2247C5.59308 11.459 5.21318 11.459 4.97886 11.2247L3.17886 9.42466C2.94455 9.19034 2.94455 8.81044 3.17886 8.57613L4.97886 6.77613C5.21317 6.54181 5.59307 6.54181 5.82739 6.77613C6.0617 7.01044 6.0617 7.39034 5.82739 7.62465L5.05165 8.40039H8.10312C8.4345 8.40039 8.70312 8.66902 8.70312 9.00039C8.70312 9.33176 8.4345 9.60039 8.10312 9.60039H5.05166L5.82739 10.3761C6.0617 10.6104 6.0617 10.9903 5.82739 11.2247Z"  data-hovering="false" ></path>
    </svg>
    <svg
    v-if="state === 'collapsed'"
      width="18"
      height="18"
      viewBox="0 0 18 18"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      @click="toggleSidebar"
    >
      <path class="fill-gray-500" fill-rule="evenodd" clip-rule="evenodd" d="M6.27374 1.90015L11.7262 1.90015C12.5441 1.90014 13.1945 1.90014 13.7192 1.94301C14.2566 1.98692 14.7148 2.07875 15.1344 2.29252C15.8117 2.63767 16.3625 3.1884 16.7076 3.86578C16.9214 4.28533 17.0132 4.74353 17.0571 5.28089C17.1 5.80565 17.1 6.45607 17.1 7.27391V10.7264C17.1 11.5442 17.1 12.1946 17.0571 12.7194C17.0132 13.2568 16.9214 13.715 16.7076 14.1345C16.3625 14.8119 15.8117 15.3626 15.1344 15.7078C14.7148 15.9215 14.2566 16.0134 13.7192 16.0573C13.1945 16.1002 12.5441 16.1002 11.7262 16.1001H6.27376C5.45592 16.1002 4.8055 16.1002 4.28074 16.0573C3.74338 16.0134 3.28518 15.9215 2.86563 15.7078C2.18824 15.3626 1.63751 14.8119 1.29237 14.1345C1.0786 13.715 0.986763 13.2568 0.942859 12.7194C0.899985 12.1946 0.899989 11.5442 0.899994 10.7264L0.899994 7.27389C0.899989 6.45606 0.899985 5.80565 0.942859 5.28089C0.986763 4.74353 1.0786 4.28533 1.29237 3.86578C1.63751 3.1884 2.18824 2.63767 2.86563 2.29252C3.28518 2.07875 3.74338 1.98692 4.28074 1.94301C4.80549 1.90014 5.45591 1.90014 6.27374 1.90015ZM4.37846 3.13903C3.91531 3.17687 3.6326 3.24852 3.41042 3.36173C2.95883 3.59183 2.59167 3.95898 2.36158 4.41057C2.24837 4.63276 2.17672 4.91546 2.13887 5.37861C2.10046 5.84877 2.09999 6.45017 2.09999 7.30015L2.09999 10.7001C2.09999 11.5501 2.10046 12.1515 2.13887 12.6217C2.17672 13.0848 2.24837 13.3675 2.36158 13.5897C2.59167 14.0413 2.95883 14.4085 3.41042 14.6386C3.6326 14.7518 3.91531 14.8234 4.37846 14.8613C4.84862 14.8997 5.45001 14.9001 6.29999 14.9001L11.7 14.9001C12.55 14.9001 13.1514 14.8997 13.6215 14.8613C14.0847 14.8234 14.3674 14.7518 14.5896 14.6386C15.0412 14.4085 15.4083 14.0413 15.6384 13.5897C15.7516 13.3675 15.8233 13.0848 15.8611 12.6217C15.8995 12.1515 15.9 11.5501 15.9 10.7001L15.9 7.30015C15.9 6.45017 15.8995 5.84877 15.8611 5.37861C15.8233 4.91546 15.7516 4.63276 15.6384 4.41057C15.4083 3.95898 15.0412 3.59183 14.5896 3.36173C14.3674 3.24852 14.0847 3.17687 13.6215 3.13903C13.1514 3.10061 12.55 3.10015 11.7 3.10015L6.29999 3.10015C5.45002 3.10015 4.84862 3.10061 4.37846 3.13903Z"></path>
     
      <path class="hover-hide fill-gray-500" fill-rule="evenodd" clip-rule="evenodd" d="M7.2 15.2252L7.2 2.72522H8.4L8.4 15.2252H7.2Z"  data-hovering="false" ></path>
        <path class="hover-hide fill-gray-500" fill-rule="evenodd" clip-rule="evenodd" d="M3.375 5.42544C3.375 5.09407 3.64363 4.82544 3.975 4.82544H5.325C5.65637 4.82544 5.925 5.09407 5.925 5.42544C5.925 5.75681 5.65637 6.02544 5.325 6.02544H3.975C3.64363 6.02544 3.375 5.75681 3.375 5.42544Z" data-hovering="false" ></path>
      <path class="hover-hide fill-gray-500" fill-rule="evenodd" clip-rule="evenodd" d="M3.375 7.67434C3.375 7.34297 3.64363 7.07434 3.975 7.07434H5.325C5.65637 7.07434 5.925 7.34297 5.925 7.67434C5.925 8.00571 5.65637 8.27434 5.325 8.27434H3.975C3.64363 8.27434 3.375 8.00571 3.375 7.67434Z" data-hovering="false" ></path>
      <path fill-rule="evenodd"  class="hover-path-re fill-gray-500" clip-rule="evenodd" d="M12.1757 6.55086C12.41 6.31654 12.7899 6.31654 13.0243 6.55086L14.8243 8.35085C14.9368 8.46338 15 8.61599 15 8.77512C15 8.93425 14.9368 9.08686 14.8243 9.19938L13.0243 10.9994C12.7899 11.2337 12.41 11.2337 12.1757 10.9994C11.9414 10.7651 11.9414 10.3852 12.1757 10.1509L12.9515 9.37512H9.89999C9.56862 9.37512 9.29999 9.10649 9.29999 8.77512C9.29999 8.44375 9.56862 8.17512 9.89999 8.17512H12.9515L12.1757 7.39939C11.9414 7.16507 11.9414 6.78517 12.1757 6.55086Z" data-hovering="false" ></path>
    
    </svg>
  </div>
  
</template>

<script lang="ts">
  import type { HTMLAttributes } from "vue";
  import { tv } from "tailwind-variants";
  import { useSidebar } from "./utils";

  export const sideBarTriggerStyles = tv({
    base: "size-7",
  });
</script>

<script setup lang="ts">
  const props = withDefaults(
    defineProps<{
      /**
       * The icon to display in the trigger.
       * @default "lucide:panel-left"
       */
      icon?: string;
      /**
       * Additional classes to apply to the parent element.
       */
      class?: HTMLAttributes["class"];
      /**
       * The label for the trigger.
       * @default "Toggle Sidebar"
       */
      label?: string;
    }>(),
    {
      icon: "lucide:panel-left", // This default is now "used" by data-icon-name
      label: "Toggle Sidebar",
      // class: undefined // default for props.class
    }
  );

  const { toggleSidebar, state } = useSidebar();

</script>

<style scoped>
.svg-container {
  position: relative;


}

.hover-hide {
  opacity: 1;
  transition: opacity 0.3s ease-in-out;
}


.hover-path {
  position: absolute;
  opacity: 0;
  transform: translateX(100%);
  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
}


.svg-container:hover .hover-hide {
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}


.svg-container:hover .hover-path {
  opacity: 1;
  transform: translateX(0);
  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
}



.hover-path-re{
  position: absolute;
  opacity: 0;
  transform: translateX(-100%);
  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
}
.svg-container:hover .hover-path-re {
  opacity: 1;
  transform: translateX(0);
  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
}


</style>
